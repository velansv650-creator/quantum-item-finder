<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quantum Item Finder</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<style>
body{
  margin:0;
  font-family:"Segoe UI",sans-serif;
  background:linear-gradient(135deg,#1e3c72,#2a5298);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.card{
  background:#fff;
  width:95%;
  max-width:430px;
  border-radius:18px;
  padding:20px;
  box-shadow:0 15px 40px rgba(0,0,0,.3);
}
h2{text-align:center;margin-bottom:10px}
select,input,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:10px;
  border:1px solid #ccc;
  font-size:15px;
}
button{border:none;cursor:pointer}
.primary{background:#3f6ae1;color:#fff}
.green{background:#2e7d32;color:#fff}
.gray{background:#eee}
.shop{background:#f7f7f7;padding:12px;border-radius:12px;margin-top:15px}
.center{text-align:center}
.small{font-size:13px;color:#555;text-align:center}
</style>
</head>

<body>
<div class="card">

<!-- LOGIN -->
<div id="login">
<h2>üîê Login / Signup</h2>
<input id="email" placeholder="Email">
<input id="pass" type="password" placeholder="Password">
<button class="primary" onclick="login()">Continue</button>
<p class="small">Demo login ‚Äì any email/password</p>
</div>

<!-- APP -->
<div id="app" style="display:none">
<h2>üîç Item Search</h2>

<select id="category">
<option value="">Select Category</option>
<option>Grocery</option>
<option>Vegetables</option>
<option>Fruits</option>
<option>Medical</option>
<option>Stationery</option>
<option>Electronics</option>
<option>Bakery</option>
<option>Dairy</option>
<option>Hardware</option>
</select>

<input id="item" placeholder="Item name (Rice / Pen / Tablet)">

<select id="itemList">
<option value="">Select Item from List</option>
</select>

<select id="area">
<option value="">Select Area</option>
<option>Velachery</option><option>Adyar</option><option>T Nagar</option>
<option>Guindy</option><option>Anna Nagar</option><option>Tambaram</option>
<option>Chromepet</option><option>Pallavaram</option>
<option>Medavakkam</option><option>Sholinganallur</option>
<option>OMR</option><option>ECR</option>
<option>Porur</option><option>Ambattur</option>
<option>Avadi</option><option>Vandalur</option>
<option>Guduvanchery</option><option>Urapakkam</option>
<option>Kelambakkam</option><option>Chengalpattu</option>
</select>

<button class="primary" onclick="nearMe()">üìç Near Me</button>
<button class="primary" onclick="search()">Search</button>
<button class="gray" onclick="logout()">Logout</button>

<div id="result"></div>
</div>
</div>

<script>
/* ---------------- DATA ---------------- */
const itemsData={
Grocery:["Rice","Wheat","Sugar","Salt","Oil","Dal","Biscuits"],
Vegetables:["Tomato","Onion","Potato","Carrot","Beans"],
Fruits:["Apple","Banana","Orange","Mango"],
Medical:["Paracetamol","Crocin","Vicks","ORS"],
Stationery:["Pen","Pencil","Notebook","Bag"],
Electronics:["Mobile","Charger","Earphones"],
Bakery:["Bread","Cake","Buns"],
Dairy:["Milk","Curd","Butter","Cheese"],
Hardware:["Hammer","Screwdriver","Nails","Drill"]
};

/* ---------------- LOGIN ---------------- */
function login(){
  if(!email.value || !pass.value){
    alert("Enter email & password");
    return;
  }
  document.getElementById("login").style.display="none";
  document.getElementById("app").style.display="block";
}
function logout(){location.reload();}

/* ---------------- CATEGORY ‚Üí ITEM LIST ---------------- */
category.onchange=()=>{
  itemList.innerHTML='<option value="">Select Item from List</option>';
  (itemsData[category.value]||[]).forEach(i=>{
    itemList.innerHTML+=`<option>${i}</option>`;
  });
};
itemList.onchange=()=>{ item.value=itemList.value; };

/* ---------------- NEAR ME ---------------- */
function nearMe(){
  area.value="Velachery";
  alert("üìç Location detected: Velachery");
}

/* ---------------- SEARCH & BOOK ---------------- */
let booking={};

function search(){
  if(!category.value || !item.value || !area.value){
    alert("Select category, item & area");
    return;
  }

  booking={
    id:"BOOK"+Math.floor(Math.random()*100000),
    category:category.value,
    item:item.value,
    area:area.value
  };

  result.innerHTML=`
  <div class="shop">
    <b>Shop:</b> Local Verified Store<br>
    <b>Category:</b> ${booking.category}<br>
    <b>Item:</b> ${booking.item}<br>
    <b>Area:</b> ${booking.area}<br><br>

    <button class="primary" onclick="preBook()">Pre-Book</button>
    <button class="green" onclick="callShop()">üìû Call</button>
    <button class="green" onclick="wa()">üí¨ WhatsApp</button>
    <button class="green" onclick="map()">üìç Map</button>

    <div id="qr" class="center"></div>
  </div>`;
}

function preBook(){
  alert("‚úÖ Booking Confirmed: "+booking.id);
  qr.innerHTML="";
  new QRCode(qr,{
    text:JSON.stringify(booking),
    width:160,height:160
  });
}

/* ---------------- ACTIONS ---------------- */
function callShop(){location.href="tel:+919876543210";}
function wa(){
  window.open(`https://wa.me/919876543210?text=Booking ${booking.id} - ${booking.item}`);
}
function map(){
  window.open(`https://www.google.com/maps/search/${booking.area}+shop`);
}
</script>
</body>
</html>
