<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Quantum Item Finder</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>

<style>
body{
 margin:0;
 font-family:Poppins,sans-serif;
 background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
}
.card{
 max-width:430px;
 margin:20px auto;
 background:#fff;
 padding:22px;
 border-radius:22px;
 box-shadow:0 25px 60px rgba(0,0,0,.45);
}
h2{text-align:center;color:#0f2027;}
.user{text-align:center;font-size:14px;color:#555;}
input,select{
 width:100%;
 padding:14px;
 margin-bottom:12px;
 border-radius:14px;
 border:1px solid #ccc;
 font-size:14px;
}
button{
 width:100%;
 padding:14px;
 border:none;
 border-radius:16px;
 font-weight:600;
 margin-bottom:10px;
 cursor:pointer;
}
.search{background:linear-gradient(135deg,#396afc,#2948ff);color:#fff;}
.logout{background:#b71c1c;color:#fff;}
.shop{
 background:#f4f6f8;
 padding:14px;
 border-radius:16px;
 margin-top:14px;
 border-left:6px solid #396afc;
}
.shop b{color:#396afc;}
.actions{
 display:flex;
 gap:8px;
 margin-top:10px;
}
.actions button{
 flex:1;
 padding:10px;
 font-size:13px;
 border-radius:12px;
}
.map{background:#2e7d32;color:#fff;}
.call{background:#f9a825;color:#000;}
.book{background:#6a1b9a;color:#fff;}
.hide{display:none;}
small{color:#777;}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="card" id="loginBox">
<h2>ğŸ” Login / Signup</h2>
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button class="search" onclick="login()">Login / Signup</button>
<div id="msg"></div>
</div>

<!-- APP -->
<div class="card hide" id="appBox">
<h2>ğŸ‘‘ Quantum Item Finder</h2>
<div class="user" id="userEmail"></div>
<small id="locationTxt">ğŸ“ Any Area (Auto)</small>

<select id="area">
<option value="Auto">Any Area (Auto)</option>
<option>Anna Nagar</option>
<option>T Nagar</option>
<option>Velachery</option>
<option>Adyar</option>
<option>Tambaram</option>
<option>OMR</option>
<option>Porur</option>
</select>

<input id="item" placeholder="Search item (rice, charger, tabletâ€¦)">
<button class="search" onclick="searchItem()">Search</button>

<div id="result"></div>

<button class="logout" onclick="logout()">Logout</button>
</div>

<script>
// FIREBASE
firebase.initializeApp({
 apiKey:"AIzaSyCCMTtL8uO4apuVk-Ut-LzPWCMOtQgoAvE",
 authDomain:"quantum-item-finder.firebaseapp.com"
});
const auth=firebase.auth();

function login(){
 auth.signInWithEmailAndPassword(email.value,password.value)
 .catch(()=>{
  auth.createUserWithEmailAndPassword(email.value,password.value)
  .catch(e=>msg.innerHTML=e.message);
 });
}
function logout(){auth.signOut();}

auth.onAuthStateChanged(u=>{
 if(u){
  loginBox.classList.add("hide");
  appBox.classList.remove("hide");
  userEmail.innerText="User: "+u.email;
 }else{
  loginBox.classList.remove("hide");
  appBox.classList.add("hide");
 }
});

// ğŸª STORE DATABASE (SAMPLE â€“ EXTENDABLE)
const stores=[
 {name:"Sri Lakshmi Stores",area:"Anna Nagar",type:"grocery"},
 {name:"Reliance Smart",area:"T Nagar",type:"grocery"},
 {name:"Apollo Pharmacy",area:"Adyar",type:"medical"},
 {name:"Vasanth & Co",area:"Velachery",type:"electronics"},
 {name:"Sathya Stationery",area:"Tambaram",type:"stationery"},
 {name:"More Supermarket",area:"Porur",type:"grocery"},
];

// ğŸ” SEARCH ENGINE
function searchItem(){
 let q=item.value.toLowerCase().trim();
 let a=area.value;
 result.innerHTML="";

 if(!q){result.innerHTML="âŒ Enter item name";return;}

 let found=stores.filter(s=>(a==="Auto"||s.area===a));

 found.forEach(s=>{
  result.innerHTML+=`
  <div class="shop">
   <b>${s.name}</b><br>
   ğŸª ${s.type} store<br>
   ğŸ“ ${s.area}, Chennai
   <div class="actions">
    <button class="map" onclick="window.open('https://maps.google.com?q=${s.area} ${s.name}')">ğŸ—º Map</button>
    <button class="call" onclick="alert('Calling ${s.name}â€¦')">ğŸ“ Call</button>
    <button class="book" onclick="alert('Pre-booked at ${s.name}')">ğŸ“¦ Book</button>
   </div>
  </div>`;
 });

 if(found.length===0){
  result.innerHTML="âŒ No stores found in this area";
 }
}
</script>

</body>
</html>
