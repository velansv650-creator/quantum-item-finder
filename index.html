<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Quantum Item Finder</title>

<!-- QR -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<!-- ICONS -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;font-family:Poppins,system-ui;
  background:#f4f5f7;
}
.hide{display:none}

/* ===== LOGIN ===== */
.login{
  min-height:100vh;display:flex;justify-content:center;align-items:center;
  background:linear-gradient(135deg,#ff7043,#ff5252);
}
.login-card{
  background:#fff;width:90%;max-width:380px;
  padding:22px;border-radius:18px;
}
.login-card h2{text-align:center}
input,select,button{
  width:100%;padding:12px;margin-top:10px;
  border-radius:12px;border:1px solid #ccc;font-size:15px;
}
button{border:none;cursor:pointer}
.primary{background:#ff5722;color:#fff}
.green{background:#2e7d32;color:#fff;margin-top:8px}
.gray{background:#eee}

/* ===== HEADER ===== */
.header{
  background:#ff5722;color:#fff;
  padding:14px 14px 20px;
  border-radius:0 0 22px 22px;
}
.search{
  background:#fff;border-radius:14px;
  display:flex;align-items:center;padding:8px;
}
.search input{
  border:none;outline:none;margin:0
}
.search span{font-size:18px;padding:0 8px}

/* ===== BANNER ===== */
.banner{
  margin:14px;background:linear-gradient(135deg,#ff9800,#ff5722);
  color:#fff;padding:16px;border-radius:18px;
}
.banner b{font-size:18px}

/* ===== CATEGORY GRID ===== */
.grid{
  display:grid;grid-template-columns:repeat(3,1fr);
  gap:14px;padding:14px;
}
.cat{
  background:#fff;border-radius:16px;
  text-align:center;padding:10px;
  box-shadow:0 5px 12px rgba(0,0,0,.1);
}
.cat img{
  width:70px;height:70px;object-fit:contain;
}
.cat p{margin:6px 0;font-weight:600}

/* ===== RESULT ===== */
.result{
  background:#fff;border-radius:18px;
  padding:16px;margin:14px;
}
.badge{font-size:13px;color:#388e3c}

/* ===== BOTTOM NAV ===== */
.nav{
  position:fixed;bottom:0;left:0;right:0;
  background:#fff;border-top:1px solid #ddd;
  display:flex;justify-content:space-around;padding:8px 0;
}
.nav div{text-align:center;font-size:13px}
.nav div span{display:block;font-size:18px}

/* ===== DARK MODE ===== */
body.dark{background:#121212;color:#eee}
body.dark .login-card,
body.dark .cat,
body.dark .result,
body.dark .search,
body.dark .nav{background:#1e1e1e;color:#fff}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="login" id="login">
  <div class="login-card">
    <h2>üîê Login / Signup</h2>
    <input id="email" placeholder="Email">
    <input id="password" type="password" placeholder="Password">
    <button class="primary" id="loginBtn">Continue</button>
    <p style="font-size:13px;text-align:center">Demo login ‚Äì any email/password</p>
  </div>
</div>

<!-- APP -->
<div id="app" class="hide">

  <!-- HEADER -->
  <div class="header">
    <div class="search">
      <span>üîç</span>
      <input id="item" placeholder="Search items or shops">
    </div>
  </div>

  <!-- BANNER -->
  <div class="banner">
    <b>FLAT 40% OFF</b><br>
    On first booking near you üéâ
  </div>

  <!-- CATEGORY -->
  <div class="grid">
    <div class="cat" onclick="setItem('Rice')">
      <img src="https://i.imgur.com/eTmWoAN.png"><p>Grocery</p>
    </div>
    <div class="cat" onclick="setItem('Paracetamol')">
      <img src="https://i.imgur.com/4M34hi2.png"><p>Medical</p>
    </div>
    <div class="cat" onclick="setItem('Pen')">
      <img src="https://i.imgur.com/8pQeZ6D.png"><p>Stationery</p>
    </div>
    <div class="cat" onclick="setItem('Mobile Charger')">
      <img src="https://i.imgur.com/UjFQv9k.png"><p>Electronics</p>
    </div>
    <div class="cat" onclick="setItem('Bread')">
      <img src="https://i.imgur.com/6rlF5jP.png"><p>Bakery</p>
    </div>
    <div class="cat" onclick="setItem('Milk')">
      <img src="https://i.imgur.com/Q6aZJ9K.png"><p>Dairy</p>
    </div>
  </div>

  <!-- SEARCH CONTROLS -->
  <div style="padding:14px">
    <select id="area">
      <option value="">Select Area</option>
      <option>Velachery</option><option>Adyar</option><option>T Nagar</option>
      <option>Guindy</option><option>Anna Nagar</option><option>Tambaram</option>
      <option>Chromepet</option><option>Pallavaram</option>
    </select>

    <button class="primary" onclick="nearMe()">üìç Near Me</button>
    <button class="primary" onclick="search()">Search</button>
    <button class="gray" onclick="toggleTheme()">üåô Dark Mode</button>
  </div>

  <div id="result"></div>

  <!-- BOTTOM NAV -->
  <div class="nav">
    <div onclick="scrollTo(0,0)"><span>üè†</span>Home</div>
    <div onclick="alert('Cart demo')"><span>üõí</span>Cart</div>
    <div onclick="alert('Bookings demo')"><span>üì¶</span>Orders</div>
    <div onclick="logout()"><span>üë§</span>Profile</div>
  </div>
</div>

<script>
let booking={};

/* LOGIN */
loginBtn.onclick=()=>{
  if(!email.value||!password.value)return alert("Enter details");
  localStorage.setItem("user",email.value);
  login.style.display="none";
  app.classList.remove("hide");
};
if(localStorage.getItem("user")){
  login.style.display="none";app.classList.remove("hide");
}

/* CATEGORY */
function setItem(v){ item.value=v }

/* NEAR ME */
function nearMe(){
  area.value="Velachery";
  alert("üìç Location detected: Velachery");
}

/* SEARCH */
function search(){
  if(!item.value||!area.value)return alert("Enter item & area");

  booking={
    id:"BOOK"+Math.floor(Math.random()*100000),
    item:item.value,
    area:area.value
  };

  result.innerHTML=`
  <div class="result">
    <b>${booking.item}</b><br>
    Area: ${booking.area}<br>
    <span class="badge">‚úî Verified Shop ‚Ä¢ ‚≠ê 4.3</span><br><br>

    <select id="pay">
      <option value="">Select Payment</option>
      <option>Cash on Delivery</option>
      <option>Online Payment</option>
    </select>

    <button class="primary" onclick="pay()">Confirm Booking</button>

    <div id="qr" style="margin-top:10px"></div>

    <button class="green" onclick="callShop()">üìû Call</button>
    <button class="green" onclick="wa()">üí¨ WhatsApp</button>
    <button class="green" onclick="map()">üìç Map</button>
  </div>`;
}

/* PAYMENT */
function pay(){
  new QRCode(qr,{
    text:JSON.stringify(booking),
    width:140,height:140
  });
  alert("Booking Confirmed: "+booking.id);
}

/* ACTIONS */
function callShop(){location.href="tel:+919876543210";}
function wa(){
  window.open(`https://wa.me/919876543210?text=Booking ${booking.id} - ${booking.item}`);
}
function map(){
  window.open(`https://www.google.com/maps/search/${booking.area}+shop`);
}

/* DARK */
function toggleTheme(){
  document.body.classList.toggle("dark");
}
function logout(){localStorage.clear();location.reload();}
</script>
</body>
</html>
