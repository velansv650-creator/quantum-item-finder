<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Quantum Item Finder</title>

<style>
  body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    color:#fff;
  }
  .card{
    background:#ffffff;
    color:#000;
    padding:25px;
    width:320px;
    border-radius:15px;
    box-shadow:0 10px 25px rgba(0,0,0,0.3);
  }
  h2{text-align:center;margin-bottom:15px;}
  input,button{
    width:100%;
    padding:10px;
    margin-top:10px;
    border-radius:8px;
    border:1px solid #ccc;
  }
  button{
    background:#2c4cff;
    color:#fff;
    border:none;
    font-weight:bold;
    cursor:pointer;
  }
  button:hover{opacity:0.9;}
  #searchBox{display:none;}
  #result{margin-top:12px;font-weight:bold;}
</style>
</head>

<body>

<div class="card" id="loginBox">
  <h2>ğŸ” Login / Signup</h2>
  <input id="email" type="email" placeholder="Email"/>
  <input id="password" type="password" placeholder="Password"/>
  <button onclick="login()">Login / Signup</button>
</div>

<div class="card" id="searchBox">
  <h2>ğŸ” Item Search</h2>
  <input id="item" placeholder="Item name (eg: Rice)"/>
  <input id="area" placeholder="Area (eg: T Nagar)"/>
  <button onclick="search()">Search</button>
  <div id="result"></div>
</div>

<script type="module">
/* ---------- FIREBASE ---------- */
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } 
from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyCE21rVu1qcMtjnUhPmNHtef-GfqofnZf0",
  authDomain: "quantum-item-finder-4a990.firebaseapp.com",
  projectId: "quantum-item-finder-4a990",
  storageBucket: "quantum-item-finder-4a990.firebasestorage.app",
  messagingSenderId: "500012758966",
  appId: "1:500012758966:web:a63d60c776f6da1a9ff317"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

/* ---------- CHENNAI AREAS ---------- */
const chennaiAreas = [
 "T Nagar","Anna Nagar","Velachery","Adyar","Guindy",
 "Tambaram","Chromepet","Pallavaram","Perungudi",
 "Thiruvanmiyur","Mylapore","Triplicane","Royapettah",
 "Kodambakkam","Ashok Nagar","KK Nagar","Saidapet",
 "Egmore","Nungambakkam","Kilpauk","Porur","Ambattur",
 "Avadi","Madipakkam","Pallikaranai","Sholinganallur",
 "OMR","ECR","Besant Nagar","Washermanpet",
 "Tondiarpet","Perambur","Kolathur"
];

/* ---------- LOGIN / SIGNUP ---------- */
window.login = async ()=>{
  const email = email.value;
  const password = document.getElementById("password").value;

  try{
    await signInWithEmailAndPassword(auth,email,password);
    alert("Login successful âœ…");
    showSearch();
  }catch(e){
    await createUserWithEmailAndPassword(auth,email,password);
    alert("Signup successful âœ…");
    showSearch();
  }
};

function showSearch(){
  document.getElementById("loginBox").style.display="none";
  document.getElementById("searchBox").style.display="block";
}

/* ---------- SEARCH ---------- */
window.search = ()=>{
  const item = document.getElementById("item").value.trim();
  const area = document.getElementById("area").value.trim();
  const result = document.getElementById("result");

  if(!item || !area){
    result.innerText="âŒ Item & Area both enter pannunga";
    return;
  }

  if(chennaiAreas.map(a=>a.toLowerCase()).includes(area.toLowerCase())){
    result.innerText=`âœ… "${item}" available in ${area} (demo result)`;
  }else{
    result.innerText=`âŒ ${area} Chennai list-la illa`;
  }
};
</script>

</body>
</html>
