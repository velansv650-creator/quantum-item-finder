<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quantum Item Finder</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 20px;
  background: #f4f6f7;
}
select, input {
  padding: 10px;
  width: 90%;
  max-width: 380px;
  margin-top: 8px;
}
button {
  padding: 10px 16px;
  margin: 8px;
  background: #2e7d32;
  color: #fff;
  border: none;
  border-radius: 6px;
}
.shop-box {
  background: #fff;
  margin-top: 12px;
  padding: 12px;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,.1);
}
</style>
</head>

<body>

<h2>üîç Quantum Item Finder</h2>

<!-- AREA SELECT -->
<select id="areaSelect">
  <option value="">üìç Select Area</option>
  <option value="Tambaram East">Tambaram East</option>
  <option value="Tambaram West">Tambaram West</option>
  <option value="Chromepet">Chromepet</option>
  <option value="Medavakkam">Medavakkam</option>
  <option value="Velachery">Velachery</option>
  <option value="Selaiyur">Selaiyur</option>
  <option value="Pallavaram">Pallavaram</option>
  <option value="Perungalathur">Perungalathur</option>
</select>

<br>

<!-- ITEM INPUT -->
<input id="itemInput" placeholder="Eg: pen, notebook, rice, mobile">

<br>
<button onclick="findItem()">Find Item</button>

<div id="result"></div>

<script>
/* ========= ITEM ‚Üí CATEGORY ========= */
var itemCategoryMap = {
  pen:"stationery", pencil:"stationery", notebook:"stationery",
  scale:"stationery", eraser:"stationery", xerox:"stationery",

  rice:"grocery", sugar:"grocery", oil:"grocery", milk:"grocery",
  soap:"grocery", shampoo:"grocery",

  mobile:"mobile", tv:"tv", laptop:"laptop",
  fridge:"fridge", ac:"ac",

  hammer:"hardware", nails:"hardware"
};

/* ========= CATEGORY ‚Üí SHOPS ========= */
var shops = {
  stationery: [
    {name:"Lakshmi Stationery",area:"Tambaram East",phone:"916379159240"},
    {name:"Student Stationery",area:"Medavakkam",phone:"916379159240"}
  ],
  grocery: [
    {name:"Reliance Smart",area:"Velachery",phone:"916379159240"},
    {name:"Nilgiris",area:"Chromepet",phone:"916379159240"}
  ],
  mobile: [
    {name:"Sri Mobiles",area:"Tambaram East",phone:"916379159240"},
    {name:"Poorvika Mobiles",area:"Pallavaram",phone:"916379159240"}
  ],
  tv: [
    {name:"Sony Showroom",area:"Tambaram West",phone:"916379159240"}
  ],
  laptop: [
    {name:"Tech World",area:"Velachery",phone:"916379159240"}
  ],
  fridge: [
    {name:"LG Store",area:"Selaiyur",phone:"916379159240"}
  ],
  ac: [
    {name:"Blue Star Dealer",area:"Perungalathur",phone:"916379159240"}
  ],
  hardware: [
    {name:"Ram Hardware",area:"Perungalathur",phone:"916379159240"}
  ]
};

/* ========= MAIN LOGIC ========= */
function findItem() {
  var item = document.getElementById("itemInput").value.toLowerCase().trim();
  var selectedArea = document.getElementById("areaSelect").value;
  var result = document.getElementById("result");
  result.innerHTML = "";

  if (item === "") {
    result.innerHTML = "‚ö†Ô∏è Enter item name";
    return;
  }

  var category = itemCategoryMap[item];
  if (!category) {
    result.innerHTML = "‚ùå Item not found";
    return;
  }

  var filteredShops = shops[category].filter(function(shop){
    return selectedArea === "" || shop.area === selectedArea;
  });

  if (filteredShops.length === 0) {
    result.innerHTML = "‚ùå No shops found in selected area";
    return;
  }

  result.innerHTML =
    "‚úÖ <b>" + item + "</b> available in <b>" +
    (selectedArea || "nearby areas") +
    "</b>:";

  filteredShops.forEach(function(shop){
    result.innerHTML += `
      <div class="shop-box">
        <b>${shop.name}</b><br>
        üìç ${shop.area}<br><br>

        <button onclick="openMap('${shop.name} ${shop.area}')">üìç Map</button>
        <button onclick="callShop('${shop.phone}')">üìû Call</button>
        <button onclick="preBook('${item}','${shop.phone}')">üí¨ WhatsApp</button>
      </div>
    `;
  });
}

/* ========= HELPERS ========= */
function openMap(place) {
  window.open(
    "https://www.google.com/maps/search/?api=1&query=" +
    encodeURIComponent(place),
    "_blank"
  );
}

function callShop(phone) {
  window.location.href = "tel:" + phone;
}

function preBook(item, phone) {
  var msg =
    "Hi üëã I want to pre-book:\n" +
    "üõí Item: " + item + "\n" +
    "üìç Area: " + document.getElementById("areaSelect").value + "\n\n" +
    "Please confirm availability.";

  window.open(
    "https://wa.me/" + phone + "?text=" + encodeURIComponent(msg),
    "_blank"
  );
}
</script>

</body>
</html>
