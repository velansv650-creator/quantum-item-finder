<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quantum Item Finder â€“ Secure</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- BASIC SECURITY -->
<meta http-equiv="Content-Security-Policy"
content="default-src 'self' https://www.google.com https://wa.me">

<style>
body {
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 20px;
  background: #f4f6f7;
}
select,input,button {
  padding: 10px;
  width: 90%;
  max-width: 420px;
  margin: 6px;
}
button {
  background: #2e7d32;
  color: #fff;
  border: none;
  border-radius: 6px;
}
.shop-box {
  background: #fff;
  padding: 12px;
  margin-top: 10px;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,.1);
}
</style>
</head>

<body>

<h2>ğŸ” Quantum Item Finder</h2>
<p>ğŸ›¡ï¸ Chennai â€“ Secure Quantum Search</p>

<select id="area">
  <option value="">ğŸ“ All Chennai</option>
  <option>North Chennai</option>
  <option>South Chennai</option>
  <option>Central Chennai</option>
  <option>West Chennai</option>
  <option>OMR</option>
  <option>ECR</option>
</select>

<input id="item" placeholder="Eg: pen, rice, mechanic, hospital">

<button onclick="search()">Find Securely</button>

<div id="result"></div>

<script>
/* ğŸ”’ BASIC PROTECTION */
document.addEventListener("contextmenu", e => e.preventDefault());
document.onkeydown = e => {
  if (e.keyCode === 123) return false;
  if (e.ctrlKey && e.shiftKey && e.keyCode === 73) return false;
};

/* ğŸ§¬ QUANTUM SESSION TOKEN */
let quantumToken = Math.random().toString(36).substr(2);
setTimeout(()=>{
  quantumToken = null;
  alert("ğŸ” Quantum session expired. Reload app.");
}, 300000); // 5 min

/* ğŸ”‘ ITEM â†’ CATEGORY MAP */
const map = {
  pen:"stationery", notebook:"stationery", xerox:"stationery",
  rice:"grocery", oil:"grocery", milk:"grocery",
  tablet:"medical", medicine:"medical", hospital:"hospital",
  mobile:"electronics", tv:"electronics", laptop:"electronics",
  spanner:"tools", drill:"tools",
  mechanic:"mechanic", tyre:"mechanic",
  plumber:"service", electrician:"service"
};

/* ğŸª CATEGORY â†’ GENERIC CHENNAI SHOPS */
const shops = {
  stationery:["Stationery Shop","Book Store"],
  grocery:["Supermarket","Local Grocery"],
  medical:["Pharmacy","Medical Store"],
  hospital:["Private Hospital","Government Hospital"],
  electronics:["Electronics Showroom","Repair Shop"],
  tools:["Hardware Store","Tool Shop"],
  mechanic:["Bike Mechanic","Car Mechanic"],
  service:["Local Service Provider"]
};

/* ğŸ” MAIN SEARCH */
function search(){
  if(!quantumToken){
    alert("Session invalid. Reload.");
    return;
  }

  let i = item.value.toLowerCase()
    .replace(/[^a-z0-9 ]/g,"")
    .trim();
  let a = area.value || "Chennai";
  let r = document.getElementById("result");
  r.innerHTML = "";

  let c = map[i];
  if(!c){
    r.innerHTML = "âŒ Item / service not indexed yet";
    return;
  }

  r.innerHTML = `âœ… <b>${i}</b> available across <b>${a}</b>`;

  shops[c].forEach(s=>{
    r.innerHTML += `
      <div class="shop-box">
        <b>${s}</b><br>
        ğŸ“ ${a}<br><br>
        <button onclick="openMap('${s} ${a}')">ğŸ“ Map</button>
        <button onclick="secureCall()">ğŸ“ Call</button>
      </div>
    `;
  });
}

/* ğŸ” HELPERS */
function openMap(q){
  window.open(
    "https://www.google.com/maps/search/?api=1&query="+
    encodeURIComponent(q),
    "_blank"
  );
}

function secureCall(){
  alert("ğŸ“ Calling nearby verified shop (demo)");
}
</script>

</body>
</html>
