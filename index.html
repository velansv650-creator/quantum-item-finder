<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Quantum Item Finder</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<style>
body{
  margin:0;
  font-family:system-ui,Segoe UI;
  background:linear-gradient(135deg,#1e3c72,#2a5298);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.card{
  background:#fff;
  width:95%;
  max-width:430px;
  border-radius:18px;
  padding:20px;
  box-shadow:0 15px 40px rgba(0,0,0,.3);
}
h2{text-align:center;margin-top:5px}
input,select,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:12px;
  border:1px solid #ccc;
  font-size:15px;
}
button{border:none;cursor:pointer}
.primary{background:#3f6ae1;color:#fff}
.green{background:#2e7d32;color:#fff}
.red{background:#c0392b;color:#fff}
.gray{background:#eee}
.shop{
  background:#f7f7f7;
  padding:14px;
  border-radius:14px;
  margin-top:15px
}
.center{text-align:center}
.hide{display:none}
</style>
</head>

<body>
<div class="card">

<!-- LOGIN -->
<div id="login">
<h2>üîê Login / Signup</h2>
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button class="primary" id="loginBtn">Continue</button>
</div>

<!-- APP -->
<div id="app" class="hide">
<h2>üîç Item Search</h2>

<select id="category">
<option value="">Select Category</option>
<option>Grocery</option>
<option>Vegetables</option>
<option>Fruits</option>
<option>Medical</option>
<option>Stationery</option>
<option>Electronics</option>
<option>Bakery</option>
<option>Dairy</option>
<option>Hardware</option>
</select>

<input id="item" placeholder="Item name (Rice / Pen / Tablet)">

<select id="area">
<option value="">Select Area</option>
<option>Velachery</option><option>Adyar</option><option>T Nagar</option>
<option>Guindy</option><option>Anna Nagar</option><option>Tambaram</option>
<option>Chromepet</option><option>Pallavaram</option><option>Medavakkam</option>
<option>Sholinganallur</option><option>OMR</option><option>ECR</option>
<option>Perungudi</option><option>Porur</option><option>Ambattur</option>
<option>Avadi</option><option>Madipakkam</option><option>Nanganallur</option>
<option>Triplicane</option><option>Mylapore</option><option>Royapettah</option>
<option>Vadapalani</option><option>Kodambakkam</option>
<option>Perambur</option><option>Kolathur</option>
<option>Red Hills</option><option>Poonamallee</option>
<option>Thiruvallur</option><option>Sriperumbudur</option>
<option>Guduvanchery</option><option>Urapakkam</option>
<option>Vandalur</option><option>Kelambakkam</option>
<option>Chengalpattu</option>
</select>

<button class="primary" onclick="search()">Search</button>
<button class="gray" onclick="logout()">Logout</button>

<div id="result"></div>
</div>

</div>

<script>
let booking={};

document.addEventListener("DOMContentLoaded",()=>{
  if(localStorage.getItem("user")){
    login.style.display="none";
    app.classList.remove("hide");
  }
  loginBtn.onclick=()=>{
    if(!email.value||!password.value){
      alert("Enter email & password");
      return;
    }
    localStorage.setItem("user",email.value);
    login.style.display="none";
    app.classList.remove("hide");
  };
});

function logout(){
  localStorage.clear();
  location.reload();
}

function search(){
  if(!category.value||!item.value||!area.value){
    alert("Select all fields");
    return;
  }
  booking={
    id:"BOOK"+Math.floor(Math.random()*100000),
    category:category.value,
    item:item.value,
    area:area.value
  };
  result.innerHTML=`
  <div class="shop">
  <b>Shop:</b> Local Verified Store<br>
  <b>Category:</b> ${booking.category}<br>
  <b>Item:</b> ${booking.item}<br>
  <b>Area:</b> ${booking.area}<br>
  <b>Trust Score:</b> ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ<br><br>

  <button class="primary" onclick="preBook()">Pre-Book</button>
  <button class="green" onclick="callShop()">üìû Call</button>
  <button class="green" onclick="wa()">üí¨ WhatsApp</button>
  <button class="green" onclick="map()">üìç Map</button>

  <div id="qr" class="center"></div>
  </div>`;
}

function preBook(){
  alert("Booking Confirmed: "+booking.id);
  qr.innerHTML="";
  new QRCode(qr,{
    text:JSON.stringify(booking),
    width:160,height:160
  });
}

function callShop(){
  location.href="tel:+919876543210";
}
function wa(){
  window.open(
   `https://wa.me/919876543210?text=Booking ${booking.id}%0AItem: ${booking.item}%0AArea: ${booking.area}`
  );
}
function map(){
  window.open(
   `https://www.google.com/maps/search/${booking.area}+shop`
  );
}
</script>

</body>
</html>
